<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Quản lý phòng ở KTX</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
  <style>
    .table-actions i {
      cursor: pointer;
      margin: 0 5px;
    }
    .search-row input, .search-row select {
      width: 100%;
      padding: 5px;
    }
    .table th, .table td {
      vertical-align: middle !important;
    }
  </style>
</head>
<body>
  <div class="container mt-5">
    <h3>Quản lý phòng ở ký túc xá</h3>

    <!-- Bộ lọc -->
    <div class="row my-3">
      <div class="col-md-2">
        <label>ID</label>
        <input type="text" class="form-control" id="filterID">
      </div>
      <div class="col-md-3">
        <label>Khu</label>
        <select class="form-select" id="filterArea">
          <option value="">Chọn khu</option>
          <option value="KTX A">KTX A</option>
          <option value="KTX B">KTX B</option>
        </select>
      </div>
      <div class="col-md-3">
        <label>Mã phòng</label>
        <input type="text" class="form-control" id="filterRoomCode">
      </div>
      <div class="col-md-3">
        <label>Tên phòng</label>
        <input type="text" class="form-control" id="filterRoomName">
      </div>
      <div class="col-md-1 d-flex align-items-end">
        <button class="btn btn-primary w-100" onclick="filterRooms()">Tìm kiếm</button>
      </div>
    </div>

    <!-- Bảng danh sách phòng -->
    <table class="table table-bordered table-hover">
      <thead class="table-light">
        <tr>
          <th><input type="checkbox" onclick="toggleAll(this)"></th>
          <th>Tên khu</th>
          <th>Mã phòng</th>
          <th>Tên phòng</th>
          <th>Sức chứa</th>
          <th>Hành động</th>
        </tr>
      </thead>
      <tbody id="roomTable">
        <tr>
          <td><input type="checkbox"></td>
          <td>KTX A</td>
          <td>P101</td>
          <td>Phòng 101</td>
          <td>8</td>
          <td class="table-actions">
            <i class="bi bi-pencil-square text-primary" onclick="editRoom(this)"></i>
            <i class="bi bi-trash text-danger" onclick="deleteRoom(this)"></i>
          </td>
        </tr>
      </tbody>
    </table>

    <p>Tổng cộng: <span id="totalRooms">1</span> phòng</p>
  </div>

  <script>
    function toggleAll(source) {
      const checkboxes = document.querySelectorAll('#roomTable input[type="checkbox"]');
      checkboxes.forEach(cb => cb.checked = source.checked);
    }

    function filterRooms() {
      alert("Chức năng lọc đang được phát triển.");
    }

    function editRoom(btn) {
      alert("Chức năng chỉnh sửa đang được phát triển.");
    }

    function deleteRoom(btn) {
      if (confirm("Bạn có chắc chắn muốn xóa phòng này?")) {
        const row = btn.closest('tr');
        row.remove();
        updateTotal();
      }
    }

    function updateTotal() {
      const rows = document.querySelectorAll('#roomTable tr');
      document.getElementById('totalRooms').textContent = rows.length;
    }
  </script>
</body>
</html>
