<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Quản lý tài khoản Admin</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">
  <style>
    .table-actions i {
      cursor: pointer;
      margin: 0 5px;
    }
    .search-bar {
      margin-bottom: 15px;
    }
  </style>
</head>
<body>
  <div class="container mt-5">
    <h3>Quản lý tài khoản Admin</h3>
    <div class="d-flex justify-content-between align-items-center search-bar">
      <button class="btn btn-primary" onclick="addUser()">+ Thêm mới</button>
      <input type="text" id="searchInput" class="form-control w-25" placeholder="Tìm kiếm..." onkeyup="searchUser()">
    </div>
    <table class="table table-bordered table-hover">
      <thead class="table-light">
        <tr>
          <th><input type="checkbox" onclick="toggleAll(this)"></th>
          <th>Tên tài khoản</th>
          <th>Vai trò</th>
          <th>Email</th>
          <th>Trạng thái</th>
          <th>Ngày tạo</th>
          <th>Ngày cập nhật</th>
          <th>Hành động</th>
        </tr>
      </thead>
      <tbody id="userTable">
        <tr>
          <td><input type="checkbox"></td>
          <td>admin</td>
          <td>Hệ thống</td>
          <td>admin@test.com</td>
          <td><span class="badge bg-success">Đang hoạt động</span></td>
          <td>2024-07-01 08:47</td>
          <td>2025-05-19 23:45</td>
          <td class="table-actions">
            <i class="bi bi-pencil-square text-primary" onclick="editUser(this)"></i>
            <i class="bi bi-trash text-danger" onclick="deleteUser(this)"></i>
          </td>
        </tr>
        <!-- Dòng người dùng khác sẽ thêm ở đây -->
      </tbody>
    </table>
    <p>Tổng cộng: <span id="totalUsers">1</span> người dùng</p>
  </div>

  <script>
    function toggleAll(source) {
      const checkboxes = document.querySelectorAll('#userTable input[type="checkbox"]');
      checkboxes.forEach(cb => cb.checked = source.checked);
    }

    function searchUser() {
      const keyword = document.getElementById('searchInput').value.toLowerCase();
      const rows = document.querySelectorAll('#userTable tr');
      let count = 0;
      rows.forEach(row => {
        const text = row.textContent.toLowerCase();
        row.style.display = text.includes(keyword) ? '' : 'none';
        if (text.includes(keyword)) count++;
      });
      document.getElementById('totalUsers').textContent = count;
    }

    function addUser() {
      alert("Chức năng thêm mới chưa được triển khai.");
    }

    function editUser(btn) {
      alert("Chức năng chỉnh sửa chưa được triển khai.");
    }

    function deleteUser(btn) {
      if (confirm("Bạn có chắc chắn muốn xóa người dùng này?")) {
        const row = btn.closest('tr');
        row.remove();
        searchUser(); // Cập nhật tổng
      }
    }
  </script>
</body>
</html>
